<div class="container mt-4">
    <div class="row">
        <div class="col-12 mt-4">
            <div *ngIf="displayAddStatus === 'none'" class="display-status-normal">
                You can add home, floor and inventory items to elastic search server.
            </div>
            <div *ngIf="displayAddStatus === 'error'" class="display-status-error">
                Failed: {{ errorMessage }}
            </div>
            <div *ngIf="displayAddStatus === 'progress'" class="display-status-progress">
                Progress: Sending information to elastic search server...
            </div>
            <div *ngIf="displayAddStatus === 'success'" class="display-status-success">
                Success: {{ successMessage }}
            </div>
        </div>
    </div>
    <form #showForm="ngForm" class="row mt-4">
        <div class="col-12">
            <select aria-expanded="false" class="form-control general-input"
                (change)="showFormSelector($event.target.value)"
                [ngClass]="{'text-danger error-input': formToDisplay == 'error'}">
                <option value='error'> -- Select Form to display -- </option>
                <option value='home'> Add Home </option>
                <option value='floor'> Add Floor </option>
                <option value='manage-home'> Manage Homes </option>
                <option value='manage-floor'> Manage Floors </option>
                <option value='inventory'> Manage Inventory Items </option>
            </select>
        </div>
    </form>
    <div *ngIf="formToDisplay === 'home'">
        <form #addHomeForm="ngForm" class="manage-storage-container row mt-4" (ngSubmit)="addHomeClick()">
            <div class="col-12">
                <div>
                    <label for="es-add-home-input"> Add Home: </label>
                </div>
                <input name="es-add-home-input" aria-label="Enter Home Name to Add" class="es-add-storage-input"
                    placeholder="Sweet Home" type="text" [formControl]="addHome"
                    [ngClass]="{'text-danger error-input': addHome.invalid && addHome.touched}">
                <button aria-label="Submit add Home Form" title="Add Home"
                    [disabled]="addHome.invalid || disableSubmitBtn || !connectionStatus" type="submit"
                    class="es-add-storage-button btn btn-primary">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24"
                        width="24">
                        <path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z" />
                    </svg>
                </button>
            </div>
        </form>
    </div>
    <div *ngIf="formToDisplay === 'manage-home'">
        <form [formGroup]="editHomeForm" class="manage-storage-container row mt-4">
            <div class="col-5">
                <div>
                    <label for="es-edit-home-select"> Select Home: </label>
                </div>
                <select name="es-edit-home-select" formControlName="selectHomeForEdit" class="form-control"
                    [ngClass]="{'text-danger error-input': editHomeForm.get('selectHomeForEdit').invalid && editHomeForm.get('selectHomeForEdit').touched}">
                    <option selected disabled value> -- Select Home -- </option>
                    <option *ngFor="let home of homeList" [ngValue]="home"> {{home}} </option>
                </select>
            </div>
            <div class="col-7">
                <div>
                    <label for="es-edit-home-input"> Edit Name: </label>
                </div>
                <input name="es-edit-home-input" aria-label="Enter New Home Name" class="es-edit-storage-input"
                    placeholder="Sweet Home" [value]="editHomeForm.get('selectHomeForEdit').value" type="text"
                    formControlName="editedHomeName"
                    [ngClass]="{'text-danger error-input': editHomeForm.get('editedHomeName').invalid && editHomeForm.get('editedHomeName').touched}">
                <button aria-label="Edit Home" title="Edit Home" (click)="editHomeClick()"
                    [disabled]="editHomeForm.get('editedHomeName').invalid || editHomeForm.get('selectHomeForEdit').invalid || disableSubmitBtn || !connectionStatus"
                    type="submit" class="es-add-storage-button btn btn-primary">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 22 18"
                        width="24">
                        <path
                            d="M2 12.88V16h3.12L14 7.12 10.88 4 2 12.88zm14.76-8.51c.33-.33.33-.85 0-1.18l-1.95-1.95c-.33-.33-.85-.33-1.18 0L12 2.88 15.12 6l1.64-1.63z" />
                    </svg>
                </button>
                <button aria-label="Delete Home" title="Delete Home"
                    [disabled]=" editHomeForm.get('selectHomeForEdit').invalid || disableSubmitBtn || !connectionStatus"
                    (click)="removeHomeClick()" class="es-add-storage-button btn btn-danger">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="2 2 24 22"
                        width="24">
                        <path
                            d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z" />
                    </svg>
                </button>
            </div>
        </form>
    </div>
    <div *ngIf="formToDisplay === 'floor'">
        <form [formGroup]="addFloorForm" class="manage-storage-container row mt-4" (ngSubmit)="addFloorClick()">
            <div class="col-6">
                <div>
                    <label for="es-add-floor-home-select"> Select Home: </label>
                </div>
                <select name="es-add-floor-home-select" formControlName="homeListField" class="form-control"
                    [ngClass]="{'text-danger error-input': addFloorForm.get('homeListField').invalid && addFloorForm.get('homeListField').touched}">
                    <option selected disabled value> -- Select Home -- </option>
                    <option *ngFor="let home of homeList" [ngValue]="home">{{home}}</option>
                </select>
            </div>
            <div class="col-6">
                <div>
                    <label for="es-add-floor-input"> Add Floor: </label>
                </div>
                <input name="es-add-floor-input" aria-label="Enter Floor Name" class="es-add-storage-input"
                    placeholder="Basement" type="text" formControlName="addFloorField"
                    [ngClass]="{'text-danger error-input': addFloorForm.get('addFloorField').invalid && addFloorForm.get('addFloorField').touched}">
                <button aria-label="Submit add Floor Form" title="Floor Name"
                    [disabled]="addFloorForm.invalid || disableSubmitBtn || !connectionStatus" type="submit"
                    class="es-add-storage-button btn btn-primary">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24"
                        width="24">
                        <path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z" />
                    </svg>
                </button>
            </div>
        </form>
    </div>
    <div *ngIf="formToDisplay === 'manage-floor'">
        <form [formGroup]="editFloorForm" class="manage-storage-container row mt-4">
            <div class="col-6">
                <div>
                    <label for="es-edit-floor-home-select"> Select Home: </label>
                </div>
                <select name="es-edit-floor-home-select" formControlName="selectHomeForEdit" class="form-control"
                    (change)="getFloorListOfHome()"
                    [ngClass]="{'text-danger error-input': editFloorForm.get('selectHomeForEdit').invalid && editFloorForm.get('selectHomeForEdit').touched}">
                    <option selected disabled value> -- Select Home -- </option>
                    <option *ngFor="let home of homeList" [ngValue]="home">{{ home }}</option>
                </select>
            </div>
            <div class="col-6">
                <div>
                    <label for="es-edit-floor-select"> Select Floor: </label>
                </div>
                <select name="es-edit-floor-select" formControlName="selectFloorForEdit" class="form-control"
                    [ngClass]="{'text-danger error-input': editFloorForm.get('selectFloorForEdit').invalid && editFloorForm.get('selectFloorForEdit').touched}">
                    <option selected disabled value> -- Select Floor -- </option>
                    <option *ngFor="let floor of floorListFilterForEditFloor" [ngValue]="floor">{{ floor }}</option>
                </select>
            </div>
            <div class="col-12 mt-4">
                <div>
                    <label for="es-edit-floor-input"> Edit Name: </label>
                </div>
                <input name="es-edit-floor-input" aria-label="Enter New Floor Name" class="es-edit-storage-input"
                    placeholder="Groud Floor" [value]="editFloorForm.get('selectFloorForEdit').value" type="text"
                    formControlName="editedFloorName"
                    [ngClass]="{'text-danger error-input': editFloorForm.get('editedFloorName').invalid && editFloorForm.get('editedFloorName').touched}">
                <button aria-label="Edit Home" title="Edit Home" (click)="editFloorClick()"
                    [disabled]="editFloorForm.get('editedFloorName').invalid || editFloorForm.get('selectHomeForEdit').invalid || disableSubmitBtn || !connectionStatus"
                    type="submit" class="es-add-storage-button btn btn-primary">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 22 18"
                        width="24">
                        <path
                            d="M2 12.88V16h3.12L14 7.12 10.88 4 2 12.88zm14.76-8.51c.33-.33.33-.85 0-1.18l-1.95-1.95c-.33-.33-.85-.33-1.18 0L12 2.88 15.12 6l1.64-1.63z" />
                    </svg>
                </button>
                <button aria-label="Delete Home" title="Delete Home"
                    [disabled]=" editFloorForm.get('selectHomeForEdit').invalid || disableSubmitBtn || !connectionStatus"
                    (click)="removeFloorClick()" class="es-add-storage-button btn btn-danger">
                    <svg class="icon-white" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="2 2 24 22"
                        width="24">
                        <path
                            d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z" />
                    </svg>
                </button>
            </div>
        </form>
    </div>
</div>
